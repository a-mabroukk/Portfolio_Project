{% extends 'base.html' %}
{% block title %}
    {{ profile_id.username }}
{% endblock %}

{% block content %}
<body>
    <div class="container mt-5">
        <section>
            <div>
                <form action="/profile" method="POST" enctype="multipart/form-data">
                    <input type="file" name="profile_picture" accept="image/*" required>
                    <button type="submit">Upload Picture</button>
                </form>
            </div>
            <div>
                <p class="text-muted">Author: {{ profile_id.name }}</p>
            </div>
            <div>
                <p class="text-muted">Bio: {{ profile_id.bio }}</p>
            </div>
            <br>
            <div>
                <!-- Edit Button -->
            <a href="{{ url_for('edit_profile', profiles=profile_id.id) }}" class="btn btn-primary mt-3">Edit</a>
            <a href="{{ url_for('home_page') }}" class="btn btn-secondary">Back</a>
            </div>
        </section>
        <br>
        <!-- Blogs -->
        <section>
            <header>
                <h1>Posts</h1>
            </header>
            <div class="row mt-4">
                {% if profile_id %}
                    <div class="list-group">
                        {% for post in profile_id.posts %}
                            <a href="{{ url_for('blog_page', post_id=post.id) }}" class="list-group-item list-group-item-action">
                                <img src="https://via.placeholder.com/150" class="card-img-left" alt="{{ post.pictures }}">
                                <h2>{{ post.title }}</h5>
                                <p>{{ post.content[:100] }}...</p> <!-- Display the first 100 characters of the post content -->
                                <small class="text-muted">Published on {{ post.publication_date }}</small>
                            </a>
                        {% endfor %}
                    </div>
                {% else %}
                    <p class="text-muted">No posts available.</p>
                {% endif %}
            </div>
        </section>
        <br>
        <!-- contact -->
        <section>
            <div>
                <header>
                    <h3>Contact Us</h3>
                </header>
                <ul>
                    <li>
                        <a href="https://mail.google.com/mail/u/0/#inbox">Gmail</a>
                    </li>
                    <li>
                        <a href="https://www.facebook.com/HolbertonSchool/">Facebook</a>
                    </li>
                    
                    <li>
                        <a href="https://twitter.com/holbertonschool">Twitter</a>
                    </li>
                    <li>
                        <a href="https://www.instagram.com/holbertonschool/">Instagram</a>
                    </li>
                    <li>
                        <a href="https://github.com/a-mabroukk/Portfolio_Project/blob/main/pencil/routes.py">GitHub</a>
                    </li>
                </ul>
            </div>
        </section>
    </div>
</body>
{% endblock %}